//C++ (.cpp) file, for Dev c++
//Welcome, my friend!
//This is a Pet Pet Registration in PT-BR.
//Date: 08/09/2015 - 16:03 - João Victor - CTI Unesp Bauru

#include <stdio.h>
#include <conio.h>
#include <string.h>
#include <stdlib.h>
#include <locale.h>

#define qtd 200
int i=0;
int teste;
int it;

struct cadastro
{
	char codigo[50];
	char nome[50];
	char tipo[30];
	char raca[30];
	struct nascimento
	{
		char dia[2];
		char mes[2];
		char ano[4];
	}nasc;
};

void cadastrovoid (cadastro mostra)
{
	fflush(stdin);
	printf("Código: ");
	puts(mostra.codigo);
	printf("Nome: ");
	puts(mostra.nome);
	printf("tipo: ");
	puts(mostra.tipo);
	printf("raça: ");
	puts(mostra.raca);
	fflush(stdin);
	
	printf("Nascimento: ");
	printf("%s / %s / %s",mostra.nasc.dia,mostra.nasc.mes,mostra.nasc.ano);
	fflush(stdin);
}

void registrar(cadastro *cadastro1)
{
	printf("\n### CADASTRO DO ANIMAL [%d] ###\n",i+1);
	
	printf("Digite o código do animal: "); 
		gets (cadastro1->codigo); 
		fflush(stdin);
	printf("Digite o nome do animal: "); 
		gets (cadastro1->nome); 
		fflush(stdin);
	printf("Digite o tipo de animal: ");
		gets (cadastro1->tipo); 
		fflush(stdin);
	printf("Digite a raça: ");
		gets (cadastro1->raca);
		fflush(stdin);
	printf("Digite o DIA do nascimento: ");
		gets (cadastro1->nasc.dia);
		fflush(stdin);
	printf("Digite o MÊS do nascimento: ");
		gets (cadastro1->nasc.mes);
		fflush(stdin);	
	printf("Digite o ANO do nascimento: ");
		gets (cadastro1->nasc.ano);
		fflush(stdin);
}

main ()
{	
	
	setlocale(LC_ALL, "Portuguese");
	cadastro cadastro[qtd];
	fflush(stdin);
	
	printf("\tBem vindo ao cadastro!\n\n");
	do{		
	registrar(&cadastro[i]);
	i++;
	it++;
	printf("\n\nDeseja realizar mais um Cadastro ?(1-SIM 2-NÃO)");
	scanf("%d",&teste);
	}while(teste!=2);
	system("cls");
	
	for(i=0;i<it;i++)
	{
		fflush(stdin);
		printf("\n####################################\n");
		printf("\n\n\t>>Dados do Cadastro %d:\n",i+1);
		cadastrovoid(cadastro[i]);
		fflush(stdin);
	}
	printf("\n\nObrigado por utilizar nosso sistemade cadastro!");
		fflush(stdin);	
		getche();
}
